/* parking_pi_parking-pi-core 1.0.0 2018-03-13T18:53:21+05:30 NO_COMMIT_INFO */
!function(){"use strict";angular.module("device",[])}(),function(){"use strict";function e(e,n){e.addNavigation({name:"Parking Devices",icon:"car",priority:100600,path:"DevicesInfo"}),n.when("/DevicesInfo",{templateUrl:"parking_pi_parking-pi-core/Device/devices.html",controller:"DevicesController"}),n.when("/DevicesInfo/:deviceId",{name:"Child devices",icon:"code-fork",priority:1009,templateUrl:"parking_pi_parking-pi-core/Child/child.html",controller:"childcontroller"}),n.when("/DevicesInfo/:deviceId",{name:"location",icon:"location-arrow",priority:1008,templateUrl:"parking_pi_parking-pi-core/Location/location.html",controller:"locationcontroller"}),n.when("/DevicesInfo/:deviceId",{name:"Managing",icon:"c8y-device-control",priority:1007,templateUrl:"parking_pi_parking-pi-core/Manage/manage.html",controller:"managecontroller"}),n.when("/DevicesInfo/:deviceId",{name:"Health-Check",icon:"heart",priority:1006,templateUrl:"parking_pi_parking-pi-core/Health/health.html",controller:"healthcontroller"})}e.$inject=["c8yNavigatorProvider","c8yViewsProvider"],angular.module("device").config(e)}(),function(){"use strict";function e(e,n,t,i){function a(){var e={fragmentType:"c8y_Position"};return t.list(e)}function r(e){var n=o(e.devices),t=l(e.binaries);angular.forEach(n,_.curry(c)(t))}function c(e,n,t){var a=e[t];if(a){var r=_.curry(p)(n);i.downloadAsDataUri(a).then(r)}else p(n)}function o(e){var n={};return angular.forEach(e,_.curry(s)(n)),n}function s(e,n){var t="default";n.c8y_Hardware&&n.c8y_Hardware.model&&(t=n.c8y_Hardware.model),e[t]||(e[t]=[]),e[t].push(n)}function l(e){var n={};return angular.forEach(e,_.curry(d)(n)),n}function d(e,n){if(i.isImage(n)){var t=n.name;t=t.substring(0,t.lastIndexOf(".")),e[t]=n}}function p(e,n){angular.forEach(e,_.curry(g)(_,n))}function g(n,t){var i=n.c8y_Position;console.log(i),console.log("saravana");var a={serialNo:e.all.length+1,lat:i.lat,lng:i.lng,name:n.name,deviceId:n.id};n.c8y_Connection?a.status=n.c8y_Connection.status:a.status="UNKNOWN",e.all.push(a)}e.all=[];var h={devices:a(),binaries:i.list({})};n.all(h).then(r)}e.$inject=["$scope","$q","c8yInventory","c8yBinary"],angular.module("device").controller("DevicesController",e)}(),function(){"use strict";function e(e,n,t,i,a){function r(){t.detail(n.deviceId).then(function(n){var a=n.data;e.device.id=a.id,e.device.location=a.c8y_Position,t.listChildren(a.id).then(function(n){var t=_.map(n,"id");if(0!=t.length){e.childrenNames=_.map(n,"name");for(var a=_.map(n,"name"),r=0;r<=t.length-1;r++){var o={},s={device:t[r],fragment:"c8y_DistanceMeasurement",series:"distance"},l=!0;i.latest(s,l).then(function(n){var n=n,t=a,i=n.c8y_DistanceMeasurement.distance.unit,r=n.c8y_DistanceMeasurement.distance.value,s=r+i;o.childTime=n.time,s<="200.45cm"?o.childImage="parking_pi_parking-pi-core/Images/car.png":o.childImage="parking_pi_parking-pi-core/Images/empty.png",c<t.length&&(o.childName=t[c],console.log("leng: "+t[c]),c+=1),e.ReDist.push(o),console.log("length: "+e.ReDist.length),console.log("arr: "+e.ReDist),console.log(e.ReDist),console.log("above arr")})}}else e.EmptyDiv=!0,e.justMessage="Ooops!! No child devices"})})}var c=0;e.device={},e.ReDist=[],r()}e.$inject=["$scope","$routeParams","c8yDevices","c8yMeasurements","c8yAlert"],angular.module("device").controller("childcontroller",e)}(),function(){"use strict";function e(e,n,t,i){function a(){var e={fragmentType:"c8y_Position"};return t.list(e)}function r(e){var n=o(e.devices),t=l(e.binaries);angular.forEach(n,_.curry(c)(t))}function c(e,n,t){var a=e[t];if(a){var r=_.curry(p)(n);i.downloadAsDataUri(a).then(r)}else p(n)}function o(e){var n={};return angular.forEach(e,_.curry(s)(n)),n}function s(e,n){var t="default";n.c8y_Hardware&&n.c8y_Hardware.model&&(t=n.c8y_Hardware.model),e[t]||(e[t]=[]),e[t].push(n)}function l(e){var n={};return angular.forEach(e,_.curry(d)(n)),n}function d(e,n){if(i.isImage(n)){var t=n.name;t=t.substring(0,t.lastIndexOf(".")),e[t]=n}}function p(e,n){angular.forEach(e,_.curry(g)(_,n))}function g(n,t){var i=n.c8y_Position,a={lat:i.lat,lng:i.lng,message:'<a href="#/device/'+n.id+'">'+n.name+"</a>"};t&&(a.icon={iconUrl:t}),e.markers.push(a)}e.markers=[];var h={devices:a(),binaries:i.list({})};n.all(h).then(r)}e.$inject=["$scope","$q","c8yInventory","c8yBinary"],angular.module("device").controller("locationcontroller",e)}(),function(){"use strict";function e(e,n,t,i,a){function r(){t.detail(n.deviceId).then(function(n){var a=n.data;e.device.id=a.id,e.device.location=a.c8y_Position,t.listChildren(a.id).then(function(n){var t=_.map(n,"id");if(0!=t.length){e.childrenNames=_.map(n,"name");for(var a=_.map(n,"name"),r=0;r<=t.length-1;r++){var o={},s={device:t[r],fragment:"c8y_DistanceMeasurement",series:"distance"},l=!0;i.latest(s,l).then(function(n){var n=n,t=a,i=n.c8y_DistanceMeasurement.distance.unit,r=n.c8y_DistanceMeasurement.distance.value,s=r+i;o.childTime=n.time,s<="200.45cm"?o.childImage="parking_pi_parking-pi-core/Images/car.png":o.childImage="parking_pi_parking-pi-core/Images/empty.png",c<t.length&&(o.childName=t[c],console.log("leng: "+t[c]),c+=1),e.ReDist.push(o),console.log("length: "+e.ReDist.length),console.log("arr: "+e.ReDist),console.log(e.ReDist),console.log("above arr")})}}else e.EmptyDiv=!0,e.justMessage="Ooops!! No child devices"})})}e.hello="hellow...",e.states={},e.states.activeItem="item1",e.items=[{id:"item1",title:"Child Devices"},{id:"item2",title:"Location"},{id:"item3",title:"Managing"},{id:"item4",title:"Health Check"}],e.DefaultDiv=!0,e.show=function(n){e.states.activeItem=n.id,console.log("test......."),console.log(e.states.activeItem),"item1"==n.id?(e.DefaultDiv=!0,e.LocationDiv=!1,e.ManagingDiv=!1,e.HealthDiv=!1):"item2"==n.id?(e.LocationDiv=!0,e.DefaultDiv=!1,e.ManagingDiv=!1,e.HealthDiv=!1):"item3"==n.id?(e.ManagingDiv=!0,e.DefaultDiv=!1,e.LocationDiv=!1,e.HealthDiv=!1):"item4"==n.id&&(e.HealthDiv=!0,e.DefaultDiv=!1,e.LocationDiv=!1,e.ManagingDiv=!1)};var c=0;e.device={},e.ReDist=[],r()}e.$inject=["$scope","$routeParams","c8yDevices","c8yMeasurements","c8yAlert"],angular.module("device").controller("managecontroller",e)}(),function(){"use strict";function e(e,n,t,i,a){function r(){t.detail(n.deviceId).then(function(n){var a=n.data;e.device.id=a.id,e.device.location=a.c8y_Position,t.listChildren(a.id).then(function(n){var t=_.map(n,"id");if(0!=t.length){e.childrenNames=_.map(n,"name");for(var a=_.map(n,"name"),r=0;r<=t.length-1;r++){var o={},s={device:t[r],fragment:"c8y_DistanceMeasurement",series:"distance"},l=!0;i.latest(s,l).then(function(n){var n=n,t=a,i=n.c8y_DistanceMeasurement.distance.unit,r=n.c8y_DistanceMeasurement.distance.value,s=r+i;o.childTime=n.time,s<="200.45cm"?o.childImage="parking_pi_parking-pi-core/Images/car.png":o.childImage="parking_pi_parking-pi-core/Images/empty.png",c<t.length&&(o.childName=t[c],console.log("leng: "+t[c]),c+=1),e.ReDist.push(o),console.log("length: "+e.ReDist.length),console.log("arr: "+e.ReDist),console.log(e.ReDist),console.log("above arr")})}}else e.EmptyDiv=!0,e.justMessage="Ooops!! No child devices"})})}e.hello="hellow...",e.states={},e.states.activeItem="item1",e.items=[{id:"item1",title:"Child Devices"},{id:"item2",title:"Location"},{id:"item3",title:"Managing"},{id:"item4",title:"Health Check"}],e.DefaultDiv=!0,e.show=function(n){e.states.activeItem=n.id,console.log("test......."),console.log(e.states.activeItem),"item1"==n.id?(e.DefaultDiv=!0,e.LocationDiv=!1,e.ManagingDiv=!1,e.HealthDiv=!1):"item2"==n.id?(e.LocationDiv=!0,e.DefaultDiv=!1,e.ManagingDiv=!1,e.HealthDiv=!1):"item3"==n.id?(e.ManagingDiv=!0,e.DefaultDiv=!1,e.LocationDiv=!1,e.HealthDiv=!1):"item4"==n.id&&(e.HealthDiv=!0,e.DefaultDiv=!1,e.LocationDiv=!1,e.ManagingDiv=!1)};var c=0;e.device={},e.ReDist=[],r()}e.$inject=["$scope","$routeParams","c8yDevices","c8yMeasurements","c8yAlert"],angular.module("device").controller("healthcontroller",e)}(),function(){"use strict";function e(e){var n;n='\r\n<div class="container" ng-app="device" ng-controller="childcontroller">\r\n<div class="row text-center mt-5 mb-5">\r\n  <div class="col-sm-3" ng-repeat="info in ReDist track by $index">\r\n    <div class="card">\r\n      <h5 class="card-header text-success">{{info.childName}}</h5>\r\n      <div class="card-body">\r\n        <img class="card-img-top" src="{{info.childImage}}" alt="Card image cap">\r\n      </div>\r\n      <span class="card-footer">CheckIn /out Time:{{info.childTime}}</span>\r\n    </div>\r\n  </div>\r\n</div>\r\n</div>\r\n\r\n\r\n',e.put("parking_pi_parking-pi-core/Child/child.html",n),e.put("/apps/parking_pi/parking-pi-core/Child/child.html",n),n='<div ng-app="device" ng-controller="DevicesController">\r\n<div class="row">\r\n  <div class="col-md-12">\r\n    <h1 class="style">Parking Devices</h1>\r\n    <div class="input-group">\r\n      <input type="text" class="form-control" ng-model="searchtxt" placeholder="Search for...">\r\n      <span class="input-group-btn">\r\n        <button class="btn btn-default" type="button"><a><i class="fa fa-search text-grey" aria-hidden="true"></i></a></button>\r\n      </span>\r\n    </div>\r\n  </div>\r\n</div>\r\n<br>\r\n<div class="card">\r\n    <div class="card-body">\r\n        <table class="table table-striped">\r\n            <thead>\r\n                <tr>\r\n                    <th class="thstyle">NO</th>\r\n                    <th class="thstyle">NAME</th>\r\n                    <th class="thstyle">LOCATION</th>\r\n                    <th class="thstyle">STATUS</th>\r\n                    <th class="thstyle">DETAILS</th>\r\n                </tr>\r\n            </thead>\r\n            <tbody>\r\n                <tr ng-repeat="CU in all | filter : searchtxt">\r\n                    <td class="rwstyle">{{CU.serialNo}}</td>\r\n                    <td class="rwstyle" ng-model="DeviceName">{{CU.name}}</td>\r\n                    <td class="rwstyle">{{CU.lat}} , {{CU.lng}} </td>\r\n                    <td class="rwstyle">{{CU.status}}</td>\r\n                    <td class="rwstyle"><a ng-href="#/DevicesInfo/{{CU.deviceId}}" ng-click="deviceInfo()">View Details</a></td>\r\n                </tr>\r\n            </tbody>\r\n        </table>\r\n    </div>\r\n</div>\r\n</div>\r\n',e.put("parking_pi_parking-pi-core/Device/devices.html",n),e.put("/apps/parking_pi/parking-pi-core/Device/devices.html",n),n='<div ng-app="device" ng-controller="healthcontroller" class="row text-center mt-5 mb-5">\r\n  <div class="col-sm-3" ng-repeat="name in childrenNames">\r\n    <div class="card">\r\n      <h5 class="card-header text-primary">{{name}}</h5>\r\n      <div class="card-body">\r\n        <img class="card-img-top" src="parking_pi_parking-pi-core/Images/ultrasonic.jpg" alt="Card image cap">\r\n      </div>\r\n      <span class="card-footer">Out of Range</span>\r\n    </div>\r\n  </div>\r\n</div>',e.put("parking_pi_parking-pi-core/Health/health.html",n),e.put("/apps/parking_pi/parking-pi-core/Health/health.html",n),n='<!DOCTYPE html>\r\n<html>\r\n<head>\r\n\t<title>Leaflet debug page</title>\r\n\r\n\t<link rel="stylesheet" href="https://unpkg.com/leaflet@1.3.1/dist/leaflet.css" integrity="sha512-Rksm5RenBEKSKFjgI3a41vrjkw4EVPlJ3+OiI65vTjIdo9brlAacEuKOiQ5OFh7cOI1bkDwLqdLw3Zg0cRJAAQ==" crossorigin=""/>\r\n\r\n\t<meta name="viewport" content="width=device-width,initial-scale=1">\r\n\t<style type="text/css">\r\n\t\t#mapid { height: 680px; }\r\n\t</style>\r\n\r\n\t<script src="https://unpkg.com/leaflet@1.3.1/dist/leaflet.js" integrity="sha512-/Nsx9X4HebavoBvEBuyp3I7od5tA0UzAxs+j83KgC8PU0kgB4XiK4Lfe4y4cgBtaRJQEIFCW+oC506aPT2L1zw==" crossorigin=""></script>\r\n</head>\r\n<body>\r\n\r\n\t <div id="mapid"></div>\r\n\t<script type="text/javascript">\r\n\t\tvar mymap = L.map(\'mapid\').setView([13.0827, 80.2707], 13);\r\n\t\tL.tileLayer(\'https://api.tiles.mapbox.com/v4/{id}/{z}/{x}/{y}.png?access_token=sk.eyJ1Ijoic2FyYXZhbmFwcmFrYXNoIiwiYSI6ImNqZWk0cHl3NjA0OHcycG9zY2drNTh6NzYifQ.9k4pUoma8BUHyjyo1smidg\', {\r\n    attribution: \'Map data &copy; <a href="http://openstreetmap.org">OpenStreetMap</a> contributors, <a href="http://creativecommons.org/licenses/by-sa/2.0/">CC-BY-SA</a>, Imagery © <a href="http://mapbox.com">Mapbox</a>\',\r\n    maxZoom: 18,\r\n    id: \'mapbox.streets\',\r\n    accessToken: \'sk.eyJ1Ijoic2FyYXZhbmFwcmFrYXNoIiwiYSI6ImNqZWk0cHl3NjA0OHcycG9zY2drNTh6NzYifQ.9k4pUoma8BUHyjyo1smidg\'\r\n}).addTo(mymap);\r\n\t\tvar greenIcon = L.icon({\r\n\t    iconUrl: \'parking_pi_parking-pi-core/Images/raspberry-pi-logo.png\',\r\n\t    shadowUrl: \'parking_pi_parking-pi-core/Images/marker-shadow.png\',\r\n\r\n\t    iconSize:     [58, 98], // size of the icon\r\n\t    shadowSize:   [100, 100], // size of the shadow\r\n\t    iconAnchor:   [22, 94], // point of the icon which will correspond to marker\'s location\r\n\t    shadowAnchor: [4, 62],  // the same for the shadow\r\n\t    popupAnchor:  [-3, -76] // point from which the popup should open relative to the iconAnchor\r\n\t});\r\n\t\tvar marker = L.marker([13.08, 80.2707],{icon: greenIcon}).addTo(mymap).bindPopup(\'I am here.<br> lat: 13.0827, lng: 80.2707\')\r\n    .openPopup();\r\n\t\t\r\n\t</script>\r\n</body>\r\n</html>\r\n',e.put("parking_pi_parking-pi-core/Location/location.html",n),e.put("/apps/parking_pi/parking-pi-core/Location/location.html",n),n='\r\n\r\n<div class="container" ng-app="device" ng-controller="managecontroller">\r\n<div class="row text-center mt-5 mb-5">\r\n\r\n  <div class="col-md-4">\r\n  <div class="card">\r\n    <h5 class="card-header text-primary">Turn Shutdown</h5>\r\n    <div class="card-body">\r\n      <button class="btn btn-outline-danger" type="button"><a><i class="fa fa-power-off text-grey" aria-hidden="true"></i></a> </button>\r\n    </div>\r\n    <span class="card-footer text-danger">status - Inactive</span>\r\n  </div>\r\n</div>\r\n\r\n  <div class="col-md-4">\r\n  <div class="card">\r\n    <h5 class="card-header text-primary">Turn maintainance</h5>\r\n    <div class="card-body">\r\n      <button class="btn btn-outline-danger" type="button"><a><i class="fa fa-wrench text-grey" aria-hidden="true"></i></a> </button>\r\n    </div>\r\n    <span class="card-footer text-warning">status - Inactive</span>\r\n  </div>\r\n</div>\r\n\r\n   <div class="col-md-4">\r\n  <div class="card">\r\n    <h5 class="card-header text-primary">Turn Live</h5>\r\n    <div class="card-body">\r\n       <button class="btn btn-outline-danger" type="button"><a><i class="fa fa-power-off text-grey" aria-hidden="true"></i></a></button>\r\n    </div>\r\n    <span class="card-footer text-success">status - Active</span>\r\n  </div>\r\n</div>\r\n\r\n</div>\r\n</div>',e.put("parking_pi_parking-pi-core/Manage/manage.html",n),e.put("/apps/parking_pi/parking-pi-core/Manage/manage.html",n)}angular.module("device").run(["$templateCache",e])}();