/* administration_connectivitySettings 8.21.0 2018-01-30T22:07:39+00:00 ab57d6f7e859+ (release/8.21.0) r8.21.0 */
!function(){"use strict";function t(t,n,e,i){var r=i("Connectivity"),o="connectivitySettings";t.addNavigation({parent:i("Settings"),name:r,path:o,icon:"plug",preventDuplicates:!0,showIfContainsVisibleViews:!0}),n.when("/connectivitySettings",{templateUrl:"administration_connectivitySettings/views/index.html",name:i("SIM provider settings"),showIf:["c8yConnectivitySettings",function(t){return t.shouldShow()}],icon:"mobile"}),e.addTitle(o,{data:_.constant({title:r})})}t.$inject=["c8yNavigatorProvider","c8yViewsProvider","c8yTitleProvider","gettext"],angular.module("c8y.parts.connectivitySettings",[]).config(t)}();var _typeof="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t};!function(){"use strict";function t(t,n,e,i,r,o){function s(n){var e=[],i=t[y][n]&&t[y][n].$error;if(i)return _.forEach(t[y][n].$error,function(t,i){t&&!_.isUndefined(p[i])&&("object"===("undefined"==typeof p?"undefined":_typeof(p))&&p[i][n]?e.push(p[i][n]):e.push(p[i]))}),e.join(" ")}function a(n){t.connectivitySettings=n}function c(){return i.detail().then(a)}function l(t){return i.update(t)}function d(){var t=o("Connectivity credentials successfully updated");return r.success(t)}function u(){var t=o("Failed to connect using given credentials");return r.danger(t)}function v(t,n){return l(t).then(e.ping).then(function(t){var e=t&&200===t.status;e?(d(),n.$setPristine()):u()},function(){u()})}var y="connectivitySettingsForm",p={required:o("This field is required!")},m=o("In order to see the 'Connectivity' tab in device details, the user needs to have 'Read' permission for 'Connectivity'. To change SIM card status and send text messages, the user needs to have 'Admin' permission for 'Connectivity'.");t.connectivitySettings={},t.invalid=angular.bind(n,n.invalid,t,y),t.updateCredentials=v,t.getValidationHints=s,t.tooltipText=m,c()}t.$inject=["$scope","c8yBase","c8yConnectivity","c8yConnectivitySettings","c8yAlert","gettext"],angular.module("c8y.parts.connectivitySettings").controller("connectivitySettingsCtrl",t)}(),function(){"use strict";function t(t){var n;n='<div ng-controller="connectivitySettingsCtrl" class="row">\r\n  <div class="col-xs-12 col-sm-10 col-md-8 col-lg-6">\r\n    <form class="card" name="connectivitySettingsForm" novalidate>\r\n      <div class="card-block">\r\n        <p class="bottom-m">{{tooltipText | translate}}</p>\r\n        <div class="form-group" ng-class="{\'has-error\': invalid(\'url\')}">\r\n          <label for="url" class="control-label" translate>\r\n            URL\r\n          </label>\r\n          <input type="text" class="form-control" required name="url" id="url" ng-model="connectivitySettings.url" uib-tooltip="{{getValidationHints(\'url\') | translate}}" c8y-autocomplete="off">\r\n        </div>\r\n        <div class="form-group" ng-class="{\'has-error\': invalid(\'license\')}">\r\n          <label for="license" class="control-label" translate>\r\n            License key\r\n          </label>\r\n          <input type="text" class="form-control" required name="license" id="license" ng-model="connectivitySettings.licenseKey" uib-tooltip="{{getValidationHints(\'license\') | translate}}" c8y-autocomplete="off">\r\n        </div>\r\n        <div class="form-group" ng-class="{\'has-error\': invalid(\'username\')}">\r\n          <label for="username" class="control-label" translate>\r\n            Username\r\n          </label>\r\n\r\n          <input type="text" class="form-control" required name="username" id="username" ng-model="connectivitySettings.username" uib-tooltip="{{getValidationHints(\'username\') | translate}}" c8y-autocomplete="off">\r\n        </div>\r\n        <div class="form-group" ng-class="{\'has-error\': invalid(\'password\')}">\r\n          <label for="password" class="control-label" translate>\r\n            Password\r\n          </label>\r\n          <input type="password" class="form-control" name="password" id="password" ng-model="connectivitySettings[\'credentials.password\']" uib-tooltip="{{getValidationHints(\'password\') | translate}}" c8y-autocomplete="off">\r\n        </div>\r\n      </div>\r\n\r\n      <div class="card-footer">\r\n        <button type="submit" class="btn btn-primary" ng-click="updateCredentials(connectivitySettings, connectivitySettingsForm)" ng-disabled="connectivitySettingsForm.$invalid || connectivitySettingsForm.$pristine" translate>\r\n          Save\r\n        </button>\r\n      </div>\r\n    </form>\r\n  </div>\r\n</div>\r\n',t.put("administration_connectivitySettings/views/index.html",n),t.put("/apps/administration/connectivitySettings/views/index.html",n)}angular.module("c8y.parts.connectivitySettings").run(["$templateCache",t])}();