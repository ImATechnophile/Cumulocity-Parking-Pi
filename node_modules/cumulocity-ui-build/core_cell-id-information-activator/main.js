/* core_cell-id-information-activator 9.3.0 2018-03-26T16:24:30+00:00 796b68a031b1+ (release/9.3.0) tip */
function _asyncToGenerator(t){return function(){var e=t.apply(this,arguments);return new Promise(function(t,r){function n(a,i){try{var o=e[a](i),c=o.value}catch(t){return void r(t)}return o.done?void t(c):Promise.resolve(c).then(function(t){n("next",t)},function(t){n("throw",t)})}return n("next")})}}!function(){"use strict";angular.module("c8y.cellIdInformationActivator",[])}();var _extends=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t};!function(){"use strict";function t(t,e){var r={path:"/device/:deviceId/*",actionBar:!0};t.addUrlAction(_extends({},r,{text:e("Activate Cell ID information"),showIf:["$routeParams","cellIdInformationActivator",function(t,e){return e.isActivatedFor(t.deviceId).then(function(t){return!t})}],action:["$routeParams","cellIdInformationActivator",function(t,e){e.activate(t.deviceId)}]})),t.addUrlAction(_extends({},r,{text:e("Deactivate Cell ID information"),showIf:["$routeParams","cellIdInformationActivator",function(t,e){return e.isActivatedFor(t.deviceId)}],action:["$routeParams","cellIdInformationActivator",function(t,e){e.deactivate(t.deviceId)}]}))}t.$inject=["c8yActionsProvider","gettext"],angular.module("c8y.cellIdInformationActivator").config(t)}(),function(){"use strict";function t(t,e,r,n,a,i,o){var c=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e){var a;return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:if(t.t0=_.isString(e),!t.t0){t.next=7;break}return t.t1=n,t.next=5,r.detail(e);case 5:t.t2=t.sent,t.t0=t.t1.getResData.call(t.t1,t.t2);case 7:return a=t.t0,t.abrupt("return",!!_.get(a,"c8y_CellIdFeatureActive"));case 9:case"end":return t.stop()}},t,this)}));return function(e){return t.apply(this,arguments)}}(),u=function(){var r=_asyncToGenerator(regeneratorRuntime.mark(function r(a,c){var u;return regeneratorRuntime.wrap(function(r){for(;;)switch(r.prev=r.next){case 0:return r.prev=0,r.next=3,s(a);case 3:if(u=r.sent,!u){r.next=9;break}return r.next=7,e.post(n.url("service/cellid/devices/"+c),{active:a});case 7:t.$broadcast("$routeChangeSuccess"),i.success(a?o.getString("Cell ID information activated"):o.getString("Cell ID information deactivated"));case 9:r.next=14;break;case 11:r.prev=11,r.t0=r.catch(0),console.error(r.t0.data.message);case 14:case"end":return r.stop()}},r,this,[[0,11]])}));return function(t,e){return r.apply(this,arguments)}}(),s=function(){var t=_asyncToGenerator(regeneratorRuntime.mark(function t(e){return regeneratorRuntime.wrap(function(t){for(;;)switch(t.prev=t.next){case 0:return t.prev=0,t.next=3,a(l[e]);case 3:return t.abrupt("return",t.sent);case 6:return t.prev=6,t.t0=t.catch(0),t.abrupt("return",0);case 9:case"end":return t.stop()}},t,this,[[0,6]])}));return function(e){return t.apply(this,arguments)}}(),l={true:{title:o.getString("Activate Cell ID information"),body:o.getString("Activating this feature will result in automatically updating the GPS position of the device when it sends new Cell ID data. Using this feature can result in additional costs."),status:"danger",labels:{ok:o.getString("Activate")}},false:{title:o.getString("Deactivate Cell ID information"),body:o.getString("Are you sure you want to deactivate Cell ID information for this device?"),status:"info",labels:{ok:o.getString("Deactivate")}}},d={isActivatedFor:c,activate:_.curry(u)(!0),deactivate:_.curry(u)(!1)};return d}t.$inject=["$rootScope","$http","c8yDevices","c8yBase","c8yModal","c8yAlert","gettextCatalog"],angular.module("c8y.cellIdInformationActivator").factory("cellIdInformationActivator",t)}(),function(){"use strict";function t(t){}angular.module("c8y.cellIdInformationActivator").run(["$templateCache",t])}();